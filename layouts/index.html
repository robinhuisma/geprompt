{{ define "main" }}

{{/* Home info - tagline */}}
{{- if site.Params.homeInfoParams -}}
  {{- partial "home_info.html" . -}}
{{- end -}}

{{/* =================== SECTIE: TRENDS =================== */}}
{{- $trends := where site.RegularPages "Section" "tech-trends" -}}
{{- $trends = $trends.ByDate.Reverse -}}
{{- if gt (len $trends) 0 -}}
<section class="homepage-section">
  <h2 class="section-heading">Trends</h2>

  {{- $hero := index $trends 0 -}}
  <a href="{{ $hero.Permalink }}" class="hero-card">
    {{- if $hero.Params.cover.image -}}
      <img src="{{ $hero.Params.cover.image }}" alt="{{ $hero.Params.cover.alt | default $hero.Title }}" class="hero-img" loading="eager">
    {{- end -}}
    <div class="hero-overlay">
      <h3 class="hero-title">{{ $hero.Title }}</h3>
    </div>
  </a>

  <div class="news-list">
    {{- range $i, $page := first 6 $trends -}}
      {{- if gt $i 0 -}}

        {{- if eq $i 3 -}}
          {{ partial "ad-slot.html" (dict "position" "trends") }}
        {{- end -}}

        <article class="news-item">
          <a href="{{ $page.Permalink }}" class="news-link">
            {{- if $page.Params.cover.image -}}
              <div class="news-thumb">
                <img src="{{ $page.Params.cover.image }}" alt="{{ $page.Params.cover.alt | default $page.Title }}" loading="lazy">
              </div>
            {{- end -}}
            <div class="news-content">
              <h3 class="news-title">{{ $page.Title }}</h3>
              <span class="news-meta">
                {{ $page.Date.Format "15:04" }} · {{ $page.ReadingTime }} min
              </span>
            </div>
          </a>
        </article>
      {{- end -}}
    {{- end -}}
  </div>
</section>
{{- end -}}

{{/* =================== SECTIE: CRM & MARCOM =================== */}}
{{- $crm := where site.RegularPages "Section" "sales-marketing" -}}
{{- $crm = $crm.ByDate.Reverse -}}
{{- if gt (len $crm) 0 -}}
<section class="homepage-section">
  <h2 class="section-heading">CRM & MarCom</h2>

  {{- $hero := index $crm 0 -}}
  <a href="{{ $hero.Permalink }}" class="hero-card">
    {{- if $hero.Params.cover.image -}}
      <img src="{{ $hero.Params.cover.image }}" alt="{{ $hero.Params.cover.alt | default $hero.Title }}" class="hero-img" loading="lazy">
    {{- end -}}
    <div class="hero-overlay">
      <h3 class="hero-title">{{ $hero.Title }}</h3>
    </div>
  </a>

  <div class="news-list">
    {{- range $i, $page := first 6 $crm -}}
      {{- if gt $i 0 -}}

        {{- if eq $i 3 -}}
          {{ partial "ad-slot.html" (dict "position" "crm") }}
        {{- end -}}

        <article class="news-item">
          <a href="{{ $page.Permalink }}" class="news-link">
            {{- if $page.Params.cover.image -}}
              <div class="news-thumb">
                <img src="{{ $page.Params.cover.image }}" alt="{{ $page.Params.cover.alt | default $page.Title }}" loading="lazy">
              </div>
            {{- end -}}
            <div class="news-content">
              <h3 class="news-title">{{ $page.Title }}</h3>
              <span class="news-meta">
                {{ $page.Date.Format "15:04" }} · {{ $page.ReadingTime }} min
              </span>
            </div>
          </a>
        </article>
      {{- end -}}
    {{- end -}}
  </div>
</section>
{{- end -}}

{{/* =================== SECTIE: CREATIVITEIT =================== */}}
{{- $creat := where site.RegularPages "Section" "creativiteit" -}}
{{- $creat = $creat.ByDate.Reverse -}}
{{- if gt (len $creat) 0 -}}
<section class="homepage-section">
  <h2 class="section-heading">Creativiteit</h2>

  {{- $hero := index $creat 0 -}}
  <a href="{{ $hero.Permalink }}" class="hero-card">
    {{- if $hero.Params.cover.image -}}
      <img src="{{ $hero.Params.cover.image }}" alt="{{ $hero.Params.cover.alt | default $hero.Title }}" class="hero-img" loading="lazy">
    {{- end -}}
    <div class="hero-overlay">
      <h3 class="hero-title">{{ $hero.Title }}</h3>
    </div>
  </a>

  <div class="news-list">
    {{- range $i, $page := first 6 $creat -}}
      {{- if gt $i 0 -}}

        {{- if eq $i 3 -}}
          {{ partial "ad-slot.html" (dict "position" "creativiteit") }}
        {{- end -}}

        <article class="news-item">
          <a href="{{ $page.Permalink }}" class="news-link">
            {{- if $page.Params.cover.image -}}
              <div class="news-thumb">
                <img src="{{ $page.Params.cover.image }}" alt="{{ $page.Params.cover.alt | default $page.Title }}" loading="lazy">
              </div>
            {{- end -}}
            <div class="news-content">
              <h3 class="news-title">{{ $page.Title }}</h3>
              <span class="news-meta">
                {{ $page.Date.Format "15:04" }} · {{ $page.ReadingTime }} min
              </span>
            </div>
          </a>
        </article>
      {{- end -}}
    {{- end -}}
  </div>
</section>
{{- end -}}

{{/* NIEUWSBRIEF */}}
{{ partial "newsletter.html" . }}

{{ end }}
